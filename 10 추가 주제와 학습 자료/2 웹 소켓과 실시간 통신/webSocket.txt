웹 소켓과 실시간 통신
Node.js 개발과 관련된 중요한 주제

1) 웹 소켓
- 클라이언트와 서버 간의 양방향 실시간 통신을 제공하는 프로토콜
- HTTP와 달리 지속적인 연결을 유지하고, 실시간 데이터를 효율적으로 교환
- 다양한 애플리케이션에서 실시간 채팅, 알림, 게임, 주식 시세 업데이트 등에 활용

2) 웹 소켓의 장점
- 실시간 통신 : 웹 소켓을 사용하면 서버에서 클라이언트로 실시간 정보를 푸시
- 저렴한 오버헤드 : HTTP와 비교하여 오버헤드가 적으며, 효율적인 데이터 전송을 제공
- 양방향 통신 : 클라이언트와 서버 간에 양방향으로 데이터를 주고받을 수 있음
- 네트워크 트래픽 감소 : 필요한 경우에만 데이터를 교환하므로 네트워크 트래픽을 감소

3) Node.js에서 웹 소켓 사용하기
- ws 또는 socket.io와 같은 모듈을 활용
- ws 모듈은 웹 소켓 서버를 구축하고 클라이언트와의 연결을 관리하는 데 사용
- socket.io는 웹 소켓을 기반으로 한 실시간 통신을 위한 라이브러리로, 다양한 기능과 이벤트를 제공
- 모듈을 사용하여 Node.js 애플리케이션에서 웹 소켓을 구현하고 실시간 통신을 구현할 수 있음

4) 학습 자료:
- "Node.js 웹 소켓 프로그래밍" (저자: 이웅모) - 웹 소켓에 대한 기본 개념과 Node.js에서의 구현 방법을 다루는 책
- MDN 웹 문서 (https://developer.mozilla.org/ko/docs/Web/API/WebSocket) : 웹 소켓에 대한 자세한 설명과 사용 예제를 제공하는 MDN 웹 문서
- Socket.IO 공식 문서 (https://socket.io/docs/v4) : Socket.IO 라이브러리의 공식 문서로, Socket.IO를 사용한 실시간 통신 구현 방법과 예제를 제공

Node.js에서 ws와 socket.io를 사용하여 웹 소켓 서버를 구축하는 예제

1. ws 모듈을 사용한 웹 소켓 서버 구축

const WebSocket = require('ws');

const wss = new WebSocket.Server({ port: 8080 });

wss.on('connection', (ws) => {
  ws.on('message', (message) => {
    console.log('Received message:', message);
    // 클라이언트로부터 메시지를 받았을 때 실행할 코드 작성
  });

  ws.send('Hello, client!'); // 클라이언트에게 메시지 전송

  ws.on('close', () => {
    console.log('Client disconnected');
    // 클라이언트 연결이 종료되었을 때 실행할 코드 작성
  });
});

2. socket.io를 사용한 웹 소켓 서버 구축

const http = require('http');
const socketIO = require('socket.io');

const server = http.createServer();
const io = socketIO(server);

io.on('connection', (socket) => {
  console.log('New client connected');

  socket.emit('message', 'Hello, client!'); // 클라이언트에게 메시지 전송

  socket.on('message', (message) => {
    console.log('Received message:', message);
    // 클라이언트로부터 메시지를 받았을 때 실행할 코드 작성
  });

  socket.on('disconnect', () => {
    console.log('Client disconnected');
    // 클라이언트 연결이 종료되었을 때 실행할 코드 작성
  });
});

server.listen(8080);

ws와 socket.io를 사용하여 간단한 웹 소켓 서버를 구축하는 방법
클라이언트와의 연결이 성립되면 클라이언트로부터 메시지를 받을 수 있고, 클라이언트에게 메시지를 전송
클라이언트의 연결 종료를 감지

실제로 동작시키기 위해서는 해당 모듈을 설치한 후에 예제 코드를 실행
npm install ws 또는 npm install socket.io를 통해 필요한 모듈을 설치한 후에 예제 코드를 실행하면 웹 소켓 서버가 실행